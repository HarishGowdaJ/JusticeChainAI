from flask import Blueprint, request, jsonify
import random

nlp_bp = Blueprint('nlp', __name__)

# Sample transcriptions
transcriptions = [
    "The court is now in session. The Honorable Judge Smith presiding. All rise.",
    "Plaintiff alleges that the defendant breached the contract by failing to deliver goods on time.",
    "Witness, please state your name and occupation for the record.",
    "Objection, Your Honor. The question is leading and assumes facts not in evidence.",
    "The jury has reached a verdict. Will the defendant please rise?",
    "Motion to dismiss is granted. Case dismissed with prejudice.",
    "Counsel, approach the bench. We need to discuss this matter in chambers.",
    "The witness is instructed to answer the question yes or no.",
    "Exhibit A is admitted into evidence over the objection of counsel.",
    "Court is adjourned until tomorrow morning at 9 AM."
]

# Sample translations (English to other languages) - expanded to 5-6 lines each
translations = {
    "Hindi": [
        "न्यायालय में न्यायाधीश प्रवेश कर चुके हैं। सभी खड़े हो जाएं। अदालत का सम्मान बनाए रखें। मामले की सुनवाई शुरू होने वाली है। सभी पक्षकारों को ध्यान से सुनें। न्याय प्रक्रिया सुचारू रूप से चलनी चाहिए।",
        "मुद्दई का आरोप है कि प्रतिवादी ने समय पर माल की डिलीवरी नहीं करके अनुबंध तोड़ा। यह गंभीर आरोप है। सबूतों के आधार पर फैसला लिया जाएगा। कानून के अनुसार कार्रवाई होगी। पक्षकारों को सबूत पेश करने का अवसर मिलेगा।",
        "गवाह, कृपया रिकॉर्ड के लिए अपना नाम और पेशा बताएं। आपकी गवाही महत्वपूर्ण है। सच्चाई से जवाब दें। अदालत की गरिमा बनाए रखें। सभी को ध्यान से सुनें।",
        "आपत्ति, माननीय। प्रश्न प्रमुख है और सबूतों में न होने वाले तथ्यों को मानता है। यह कानून के विरुद्ध है। अदालत को उचित फैसला लेना चाहिए। पक्षकारों के अधिकार सुरक्षित हैं।",
        "जूरी ने फैसला सुनाया है। क्या प्रतिवादी कृपया खड़े होंगे? न्याय प्रक्रिया पूरी हुई है। फैसला कानून के अनुसार है। सभी पक्षकारों को सम्मानित करें। अदालत का सम्मान बनाए रखें।",
        "खारिज करने का प्रस्ताव स्वीकार किया गया। मामला पूर्वाग्रह के साथ खारिज किया गया। यह कानूनी फैसला है। पक्षकार अपील कर सकते हैं। न्याय प्रक्रिया समाप्त हुई है। सभी को कानून का सम्मान करना चाहिए।",
        "कौनसल, बेंच के पास आएं। हमें इस मामले पर चैंबर्स में चर्चा करने की जरूरत है। गोपनीयता बनाए रखें। उचित फैसला लें। पक्षकारों के हित में काम करें। न्याय प्रक्रिया सुचारू रखें।",
        "गवाह को निर्देश दिया गया है कि प्रश्न का हां या नहीं में उत्तर दें। स्पष्टता बनाए रखें। कानून के अनुसार जवाब दें। अदालत की गरिमा बनाए रखें। सभी को ध्यान से सुनें।",
        "प्रदर्शनी A आपत्ति के बावजूद सबूत में शामिल की जाती है। कानूनी प्रक्रिया के अनुसार। सबूतों का मूल्यांकन होगा। पक्षकारों को अवसर मिलेगा। न्याय प्रक्रिया जारी रहेगी।",
        "न्यायालय कल सुबह 9 बजे तक स्थगित किया गया है। सभी पक्षकारों को सूचित किया गया है। समय पर पहुंचें। कानून का सम्मान करें। अदालत की गरिमा बनाए रखें। न्याय प्रक्रिया जारी रहेगी।"
    ],
    "Kannada": [
        "ನ್ಯಾಯಾಲಯ ಈಗ ಸೆಷನ್‌ಲೋ ಉಂಟು. ಗೌರವಾನ್ವಿತ ನ್ಯಾಯಮೂರ್ತಿ ಸ್ಮಿತ್ ಅಧ್ಯಕ್ಷತೆ ನಡೆಸುತ್ತಿದ್ದಾರೆ. ಎಲ್ಲರೂ ಲೇವಂಡಿ. ನ್ಯಾಯಾಲಯದ ಗೌರವವನ್ನು ಕಾಪಾಡಿ. ಮಾಮಲೆಯ ವಿಚಾರಣೆ ಪ್ರಾರಂಭವಾಗುತ್ತಿದೆ. ಎಲ್ಲಾ ಪಕ್ಷಗಳೂ ಗಮನವಿಟ್ಟು ಕೇಳಿ. ನ್ಯಾಯ ಪ್ರಕ್ರಿಯೆ ಸುಗಮವಾಗಿ ನಡೆಯಬೇಕು.",
        "ಪ್ಲೈಂಟಿಫ್ ಅವರು ಡಿಫೆಂಡೆಂಟ್ ಅವರು ಕಾಂಟ್ರಾಕ್ಟ್‌ನು ಉಲ್ಲಂಘಿಸಿದ್ದಾರೆ ಸಮಯಕ್ಕೆ ವಸ್ತುಗಳನ್ನು ತಲುಪಿಸದೆ. ಇದು ಗಂಭೀರ ಆರೋಪವಾಗಿದೆ. ಸಾಕ್ಷ್ಯಗಳ ಆಧಾರದ ಮೇಲೆ ತೀರ್ಪು ನೀಡಲಾಗುತ್ತದೆ. ಕಾನೂನಿನ ಪ್ರಕಾರ ಕ್ರಮ ಕೈಗೊಳ್ಳಲಾಗುತ್ತದೆ. ಪಕ್ಷಗಳಿಗೆ ಸಾಕ್ಷ್ಯ ಪ್ರಸ್ತುತಪಡಿಸುವ ಅವಕಾಶ ಸಿಗುತ್ತದೆ.",
        "ಸಾಕ್ಷಿ, ರಿಕಾರ್ಡ್ ಕೋಸಂ ಮೀ ಪೇರ್ ಮತ್ತು ವೃತ್ತಿಯನ್ನು ತಿಳಿಸಿ. ನಿಮ್ಮ ಸಾಕ್ಷ್ಯ ಮಹತ್ವದ್ದಾಗಿದೆ. ಸತ್ಯದಿಂದ ಉತ್ತರಿಸಿ. ನ್ಯಾಯಾಲಯದ ಗೌರವವನ್ನು ಕಾಪಾಡಿ. ಎಲ್ಲರೂ ಗಮನವಿಟ್ಟು ಕೇಳಿ.",
        "ಆಬ್ಜೆಕ್ಷನ್, ಯೂರ್ ಹಾನರ್. ಪ್ರಶ್ನೆ ಮುಖ್ಯವಾಗಿದೆ ಮತ್ತು ಸಾಕ್ಷ್ಯದಲ್ಲಿ ಇಲ್ಲದ ವಾಸ್ತವಗಳನ್ನು ಅನುಮಾನಿಸ್ತದೆ. ಇದು ಕಾನೂನಿಗೆ ವಿರುದ್ಧವಾಗಿದೆ. ನ್ಯಾಯಾಲಯಕ್ಕೆ ಸರಿಯಾದ ತೀರ್ಪು ನೀಡಬೇಕು. ಪಕ್ಷಗಳ ಹಕ್ಕುಗಳು ಸುರಕ್ಷಿತವಾಗಿವೆ.",
        "ಜ್ಯೂರಿ ತೀರ್ಪು ಕೈಗೊಂಡಿದೆ. ಡಿಫೆಂಡೆಂಟ್ ದಯಚೇಸಿ ಲೇವಂಡಿ? ನ್ಯಾಯ ಪ್ರಕ್ರಿಯೆ ಪೂರ್ಣಗೊಂಡಿದೆ. ತೀರ್ಪು ಕಾನೂನಿನ ಪ್ರಕಾರವಾಗಿದೆ. ಎಲ್ಲಾ ಪಕ್ಷಗಳನ್ನೂ ಗೌರವಿಸಿ. ನ್ಯಾಯಾಲಯದ ಗೌರವವನ್ನು ಕಾಪಾಡಿ.",
        "ಡಿಸ್‌ಮಿಸ್ ಮೋಷನ್ ಅಂಗೀಕರಿಸಲಾಗಿದೆ. ಕೇಸ್ ಪ್ರೀಜುಡೈಸ್‌ತೋ ಡಿಸ್‌ಮಿಸ್ ಮಾಡಲಾಗಿದೆ. ಇದು ಕಾನೂನಿ ತೀರ್ಪಾಗಿದೆ. ಪಕ್ಷಗಳು ಅಪೀಲ್ ಮಾಡಬಹುದು. ನ್ಯಾಯ ಪ್ರಕ್ರಿಯೆ ಅಂತ್ಯಗೊಂಡಿದೆ. ಎಲ್ಲರೂ ಕಾನೂನನ್ನು ಗೌರವಿಸಬೇಕು.",
        "ಕೌನ್ಸೆಲ್, ಬೆಂಚ್‌ಗೆ ಬನ್ನಿ. ಮನಗೆ ಈ ವಿಷಯವನ್ನು ಚೇಂಬರ್‌ಗಳಲ್ಲಿ ಚರ್ಚಿಸಬೇಕು. ಗೌಪ್ಯತೆ ಕಾಪಾಡಿ. ಸರಿಯಾದ ತೀರ್ಪು ನೀಡಿ. ಪಕ್ಷಗಳ ಹಿತಾಸಕ್ತಿಗಾಗಿ ಕೆಲಸ ಮಾಡಿ. ನ್ಯಾಯ ಪ್ರಕ್ರಿಯೆ ಸುಗಮವಾಗಿಡಿ.",
        "ಸಾಕ್ಷಿಗೆ ಪ್ರಶ್ನೆಗೆ ಹೌದು ಲೇದಾ ಕಾದು ಅನಿ ಸಮಾಧಾನಂ ಇವ್ವಮನಿ ಸೂಚಿಸಲಾಗಿದೆ. ಸ್ಪಷ್ಟತೆ ಕಾಪಾಡಿ. ಕಾನೂನಿನ ಪ್ರಕಾರ ಉತ್ತರಿಸಿ. ನ್ಯಾಯಾಲಯದ ಗೌರವವನ್ನು ಕಾಪಾಡಿ. ಎಲ್ಲರೂ ಗಮನವಿಟ್ಟು ಕೇಳಿ.",
        "ಎಕ್ಸಿಬಿಟ್ A ಕೌನ್ಸೆಲ್ ಆಬ್ಜೆಕ್ಷನ್ ಮೀದ ಸಾಕ್ಷ್ಯದಲ್ಲಿ ಸೇರಿಸಲಾಗಿದೆ. ಕಾನೂನಿ ಪ್ರಕ್ರಿಯೆಯ ಪ್ರಕಾರ. ಸಾಕ್ಷ್ಯಗಳ ಮೌಲ್ಯಮಾಪನ ನಡೆಯುತ್ತದೆ. ಪಕ್ಷಗಳಿಗೆ ಅವಕಾಶ ಸಿಗುತ್ತದೆ. ನ್ಯಾಯ ಪ್ರಕ್ರಿಯೆ ಮುಂದುವರಿಯುತ್ತದೆ.",
        "ಕೋರ್ಟ್ ರೇಪು ಬೆಳಗ್ಗೆ 9 ಗಂಟೆಗೆ ವಾಯಿದಾ ವೇಯಲಾಗಿದೆ. ಎಲ್ಲಾ ಪಕ್ಷಗಳಿಗೂ ಸೂಚನೆ ನೀಡಲಾಗಿದೆ. ಸಮಯಕ್ಕೆ ತಲುಪಿ. ಕಾನೂನನ್ನು ಗೌರವಿಸಿ. ನ್ಯಾಯಾಲಯದ ಗೌರವವನ್ನು ಕಾಪಾಡಿ. ನ್ಯಾಯ ಪ್ರಕ್ರಿಯೆ ಮುಂದುವರಿಯುತ್ತದೆ."
    ],
    "Tamil": [
        "நீதிமன்றம் இப்போது அமர்வில் உள்ளது. கன்னிய நீதிபதி ஸ்மித் தலைமையேற்றுள்ளார். அனைவரும் எழுந்திருங்கள். நீதிமன்றத்தின் மரியாதையை காப்பாற்றுங்கள். வழக்கின் விசாரணை தொடங்க உள்ளது. அனைத்து தரப்பினரும் கவனமாக கேளுங்கள். நீதி செயல்முறை சீராக நடைபெற வேண்டும்.",
        "வழக்காளர் குற்றம் சாட்டுவது என்னவென்றால், பிரதிவாதி ஒப்பந்தத்தை மீறி பொருட்களை சரியான நேரத்தில் வழங்கத் தவறினார். இது கடுமையான குற்றச்சாட்டு. ஆதாரங்களின் அடிப்படையில் தீர்ப்பு வழங்கப்படும். சட்டத்தின் படி நடவடிக்கை எடுக்கப்படும். தரப்பினருக்கு ஆதாரங்களை முன்வைக்கும் வாய்ப்பு கிடைக்கும்.",
        "சாட்சி, பதிவுக்கு உங்கள் பெயர் மற்றும் தொழிலை தயவுசெய்து கூறுங்கள். உங்கள் சாட்சியம் முக்கியமானது. உண்மையாக பதிலளிக்கவும். நீதிமன்றத்தின் மரியாதையை காப்பாற்றுங்கள். அனைவரும் கவனமாக கேளுங்கள்.",
        "எதிர்ப்பு, மரியாதைக்குரியவரே. கேள்வி முன்னணியானது மற்றும் ஆதாரங்களில் இல்லாத உண்மைகளை கருதுகிறது. இது சட்டத்துக்கு எதிரானது. நீதிமன்றம் சரியான தீர்ப்பை எடுக்க வேண்டும். தரப்பினரின் உரிமைகள் பாதுகாக்கப்படுகின்றன.",
        "ஜூரி தீர்ப்பை எட்டியுள்ளது. பிரதிவாதி தயவுசெய்து எழுந்திருப்பீர்களா? நீதி செயல்முறை முடிந்தது. தீர்ப்பு சட்டத்தின் படியானது. அனைத்து தரப்பினரையும் மரியாதையாக நடத்துங்கள். நீதிமன்றத்தின் மரியாதையை காப்பாற்றுங்கள்.",
        "நிராகரிக்கும் மனுவை ஏற்றுக்கொள்ளப்பட்டது. வழக்கு முன்னுரிமையுடன் நிராகரிக்கப்பட்டது. இது சட்ட தீர்ப்பு. தரப்பினர் மேல்முறையீடு செய்யலாம். நீதி செயல்முறை முடிந்தது. அனைவரும் சட்டத்தை மரியாதையாக கடைபிடிக்க வேண்டும்.",
        "வழக்கறிஞர், பெஞ்ச் அருகே வாருங்கள். இந்த விஷயத்தை அறைகளில் விவாதிக்க வேண்டும். ரகசியத்தன்மையை காப்பாற்றுங்கள். சரியான தீர்ப்பை எடுங்கள். தரப்பினரின் நலனுக்காக செயல்படுங்கள். நீதி செயல்முறையை சீராக வைத்திருங்கள்.",
        "சாட்சிக்கு கேள்விக்கு ஆம் அல்லது இல்லை என்று பதிலளிக்க சொல்லப்பட்டுள்ளது. தெளிவாக இருங்கள். சட்டத்தின் படி பதிலளிக்கவும். நீதிமன்றத்தின் மரியாதையை காப்பாற்றுங்கள். அனைவரும் கவனமாக கேளுங்கள்.",
        "கண்காட்சி A வழக்கறிஞரின் எதிர்ப்புக்கு மேலாக ஆதாரங்களில் சேர்க்கப்பட்டுள்ளது. சட்ட செயல்முறையின் படி. ஆதாரங்களின் மதிப்பீடு நடைபெறும். தரப்பினருக்கு வாய்ப்பு கிடைக்கும். நீதி செயல்முறை தொடரும்.",
        "நீதிமன்றம் நாளை காலை 9 மணிக்கு ஒத்திவைக்கப்பட்டுள்ளது. அனைத்து தரப்பினருக்கும் அறிவிக்கப்பட்டுள்ளது. நேரத்தில் வருங்கள். சட்டத்தை மரியாதையாக கடைபிடியுங்கள். நீதிமன்றத்தின் மரியாதையை காப்பாற்றுங்கள். நீதி செயல்முறை தொடரும்."
    ],
    "Telugu": [
        "కోర్టు ఇప్పుడు సెషన్‌లో ఉంది. గౌరవనీయ న్యాయమూర్తి స్మిత్ అధ్యక్షత నిర్వహిస్తున్నారు. అందరూ లేవండి. కోర్టు గౌరవాన్ని కాపాడండి. కేసు విచారణ ప్రారంభమవుతోంది. అన్ని పక్షాలు జాగ్రత్తగా వినండి. న్యాయ ప్రక్రియ సుస్థిరంగా నడవాలి.",
        "ప్లైంటిఫ్ ఆరోపిస్తున్నారు డిఫెండెంట్ కాంట్రాక్ట్‌ను ఉల్లంఘించారు సమయానికి వస్తువులను అందించకపోవడం వల్ల. ఇది తీవ్రమైన ఆరోపణ. ఆధారాల ఆధారంగా తీర్పు ఇవ్వబడుతుంది. చట్టం ప్రకారం చర్య తీసుకోబడుతుంది. పక్షాలకు ఆధారాలు సమర్పించే అవకాశం లభిస్తుంది.",
        "సాక్షి, రికార్డ్ కోసం మీ పేరు మరియు వృత్తిని చెప్పండి. మీ సాక్ష్య ముఖ్యమైనది. సత్యంగా సమాధానం ఇవ్వండి. కోర్టు గౌరవాన్ని కాపాడండి. అందరూ జాగ్రత్తగా వినండి.",
        "ఆబ్జెక్షన్, యూర్ హానర్. ప్రశ్న ముఖ్యమైనది మరియు ఆధారాలలో లేని వాస్తవాలను అనుమానిస్తుంది. ఇది చట్టానికి వ్యతిరేకం. కోర్టు సరైన తీర్పు తీసుకోవాలి. పక్షాల హక్కులు సురక్షితం చేయబడ్డాయి.",
        "జ్యూరీ తీర్పు చేరుకుంది. డిఫెండెంట్ దయచేసి లేవండి? న్యాయ ప్రక్రియ పూర్తైంది. తీర్పు చట్టం ప్రకారం. అన్ని పక్షాలను గౌరవించండి. కోర్టు గౌరవాన్ని కాపాడండి.",
        "డిస్‌మిస్ మోషన్ అంగీకరించబడింది. కేసు ప్రీజుడైస్‌తో డిస్‌మిస్ చేయబడింది. ఇది చట్టపరమైన తీర్పు. పక్షాలు అప్పీల్ చేయవచ్చు. న్యాయ ప్రక్రియ ముగిసింది. అందరూ చట్టాన్ని గౌరవించాలి.",
        "కౌన్సెల్, బెంచ్ వద్దకు రండి. మనం ఈ విషయాన్ని చేంబర్‌లలో చర్చించాలి. గోప్యతను కాపాడండి. సరైన తీర్పు తీసుకోండి. పక్షాల ప్రయోజనాల కోసం పని చేయండి. న్యాయ ప్రక్రియను సుస్థిరంగా ఉంచండి.",
        "సాక్షికి ప్రశ్నకు అవును లేదా కాదు అని సమాధానం ఇవ్వమని సూచించబడింది. స్పష్టతను కాపాడండి. చట్టం ప్రకారం సమాధానం ఇవ్వండి. కోర్టు గౌరవాన్ని కాపాడండి. అందరూ జాగ్రత్తగా వినండి.",
        "ఎక్సిబిట్ A కౌన్సెల్ ఆబ్జెక్షన్ మీద ఆధారాలలో చేర్చబడింది. చట్టపరమైన ప్రక్రియ ప్రకారం. ఆధారాల విశ్లేషణ జరుగుతుంది. పక్షాలకు అవకాశం లభిస్తుంది. న్యాయ ప్రక్రియ కొనసాగుతుంది.",
        "కోర్టు రేపు ఉదయం 9 గంటలకు వాయిదా వేయబడింది. అన్ని పక్షాలకు తెలియజేయబడింది. సమయానికి రండి. చట్టాన్ని గౌరవించండి. కోర్టు గౌరవాన్ని కాపాడండి. న్యాయ ప్రక్రియ కొనసాగుతుంది."
    ]
}

@nlp_bp.route('/transcribe', methods=['POST'])
def transcribe():
    # For now, return a random transcription
    transcription = random.choice(transcriptions)
    return jsonify({"transcription": transcription})

@nlp_bp.route('/translate', methods=['POST'])
def translate():
    data = request.get_json()
    text = data.get('text', '')
    language = data.get('language', 'Hindi')
    
    if language not in translations:
        return jsonify({"error": "Unsupported language"}), 400
    
    # For now, return a random translation from the list
    translated = random.choice(translations[language])
    return jsonify({"translated_text": translated})